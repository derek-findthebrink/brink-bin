#!/usr/bin/env coffee

path = require "path"
fs = require "fs"
colors = require "colors"
_ = require "underscore"
async = require "async"

traverse = require "./modules/traverse"
prettyPrint = require "./modules/pretty-print"

getPackages = (cpath, file, cb)->
	pckg = require( path.join cpath, file )
	packages = pckg.dependencies
	return cb(null, packages)

async.waterfall([
	traverse
	getPackages
	prettyPrint
	], (err)->
		if err
			throw err
		)
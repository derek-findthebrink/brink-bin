#!/usr/bin/env coffee

cmd = process.argv[2]
traverse = require "../modules/traverse"
fs = require "fs"



template = "
#!/usr/bin/env coffee\n
\n
# Generated by brink 0.1.0\n
\n
# requires\n
# --------------------\n
program = require \"commander\"\n
fs = require \"fs\"\n
_ = require \"underscore\"\n
nodepath = require \"path\"\n
async = require \"async\"\n
\n
traverse = require \"./modules/traverse\"\n
done = require \"./modules/done\"\n
\n
# logic\n
# -----------------------\n
\n

"
traverse (err, path, file)->
	process.chdir(path)
	c = "brink-" + cmd
	b = new Buffer(template, "utf8")
	fs.writeFile(c, b, {mode: 0o755}, (err)->
		if err
			throw err
		)